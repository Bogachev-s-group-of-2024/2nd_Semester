## Требования к программам

- 1. Программа должна получать все параметры в качестве аргументов командной строки.
- 2. Аргументы командной строки для задач 1, 2, 7-11:
	- 1) n число строк матрицы,
	- 2) m число столбцов матрицы,
	- 3) р количество выводимых значений в матрице,
	- 4) k задает номер формулы для инициализации матрицы, должен быть равен 0 при вводе матрицы из файла,
	- 5) filename имя файла, откуда надо прочитать матрицу. Этот аргумент отсутствует, если k! = ().

Например, запуск

./a.out 6 4 5 0 a.txt

означает, что матрицу 6х4 надо прочитать из файла а. txt и выводить не более 5 строк и столбцов матрицы, а запуск

./a.out 2000 4000 6 1

означает, что матрицу 2000х4000 надо инициализировать по формуле номер 1 и выводить не более 6-ти строк и столбцов матрицы.

- 3. Аргументы командной строки для задач 3, 4:
	- 1) n число строк матрицы,
	- 2) m число столбцов матрицы,
	- 3) р количество выводимых значений в матрицах,
	- 4) kg задает номер формулы для инициализации матрицы A, должен быть равен 0 при вводе матрицы А из файла,
	- 5) fa имя файла, откуда надо прочитать матрицу А. Этот аргумент отсутствует, если kA!=0,
	- 6) kg задает номер формулы для инициализации вектора b размера n x 1, должен быть равен 0 при вводе вектора b из файла,
	- 7) fb имя файла, откуда надо прочитать вектор b. Этот аргумент отсутствует, если кр! = 0,
	- 8) kx задает номер формулы для инициализации вектора x размера m x 1, должен быть равен 0 при вводе вектора х из файла,
	- 9) fx имя файла, откуда надо прочитать вектор х. Этот аргумент отсутствует, если k2. = 0.
- 4. Аргументы командной строки для задач 5, 6:
- 1) *n* число строк матрицы *A*,
- 2) *m* число столбцов матрицы *A*,
- 3) *p* количество выводимых значений в матрицах,
- 4) *k<sup>A</sup>* задает номер формулы для инициализации матрицы *A*, должен быть равен 0 при вводе матрицы *A* из файла,
- 5) *f<sup>A</sup>* имя файла, откуда надо прочитать матрицу *A*. Этот аргумент **отсутствует**, если *kA*! = 0,
- 6) *k<sup>B</sup>* задает номер формулы для инициализации матрицы *B* размера *m*×*n*, должен быть равен 0 при вводе матрицы *B* из файла,
- 7) *f<sup>B</sup>* имя файла, откуда надо прочитать матрицу *B*. Этот аргумент **отсутствует**, если *kB*! = 0.
- 5. Ввод матрицы должен быть оформлен в виде подпрограммы, находящейся в отдельном файле.
- 6. Ввод матрицы из файла. В указанном файле находится матрица в формате:

$$\begin{array}{cccc} a\_{1,1} & \cdots & a\_{1,m} \\ a\_{2,1} & \cdots & a\_{2,m} \\ \cdots & \cdots & \cdots & \cdots \\ a\_{n,1} & \cdots & a\_{n,m} \end{array}$$

где *n*×*m* - указанные размеры матрицы, *A* = (*ai*, *<sup>j</sup>*) - матрица. Программа должна выводить сообщение об ошибке, если указанный файл не может быть прочитан, содержит меньшее количество данных или данные неверного формата.

7. Ввод матрицы и правой части по формуле. Элемент *ai*, *<sup>j</sup>* матрицы *A* полагается равным

$$a\_{i,j} = f(k, n, m, i, j), \quad i = 1, \ldots, n, \quad j = 1, \ldots, m, j$$

где *f*(*k*,*n*,*m*,*i*, *j*) - функция, которая возвращает значение (*i*, *j*)-го элемента *n* × *m* матрицы по формуле номер *k* (аргумент командной строки). Функция *f*(*k*,*n*,*m*,*i*, *j*) должна быть оформлена в виде отдельной подпрограммы.

$$f(k,n,m,i,j) = \begin{cases} \max\{n,m\} - \max\{i,j\} + 1 & \text{npn} \quad k=1\\ \max\{i,j\} & \text{npn} \quad k=2\\ |i-j| & \text{npn} \quad k=3\\ \hline 1\\ \hline i+j-1 \end{cases} \qquad \text{npn} \quad k=3 \qquad \qquad i=1,\ldots,n, \quad j=1,\ldots,m.$$

- 8. Решение должно быть оформлено в виде подпрограммы, находящейся в отдельном файле.
- 9. Программа должна содержать подпрограмму вывода на экран прямоугольной матрицы *n* × *m* матрицы. Эта подпрограмма используется для вывода исходной *n* × *m* матрицы после ее инициализации, а также для вывода на экран результата работы программы. Подпрограмма выводит на экран не более, чем *p* строк и столбцов *n* × *m* матрицы, где *p* – параметр этой подпрограммы (аргумент командной строки). Каждая строка матрицы должна печататься на новой строке, каждый элемент матрицы выводится в строке по формату " %10.3e" (один пробел между элементами и экспоненциальный формат %10.3e).
- 10. Функция, реализующая задачу, **не должна выделять или использовать дополнительную память**.
- 11. Вывод результата работы функции в функции main должен производиться по формату:
	- Непосредственно вывод матрицы, если в задаче матрица *A* изменялась
	- Отчет о результате и времени работы:

printf ("%s : Task = %d Result = %e Elapsed = %.2f\n", argv[0], task, res, t);

где

- **–** argv[0] первый аргумент командной строки (имя образа программы),
- **–** task номер задачи (1–11),
- **–** res возвращаемое значение функции, реализующей решение этой задачи,
- **–** t время работы функции, реализующей решение этой задачи.

**Вывод должен производиться в точности в таком формате**, чтобы можно было автоматизировать обработку запуска многих тестов.

## **Задачи**

- 1. Написать функцию, получающую в качестве аргументов *n* × *m* матрицу *A* вещественных чисел и целые числа *n*, *m*, и возвращающую max*i*=1,...,*<sup>n</sup>* ∑ *m j*=1 |*ai j*|.
- 2. Написать функцию, получающую в качестве аргументов *n* × *m* матрицу *A* вещественных чисел и целые числа *n*, *m*, и возвращающую max*j*=1,...,*<sup>m</sup>* ∑ *n i*=1 |*ai j*|.
- 3. Написать функцию, получающую в качестве аргументов *n* × *m* матрицу *A* вещественных чисел, вектор *x* длины *m*, вектор *b* длины *n* и целые числа *n*, *m*, и возвращающую ∑ *n k*=1 |*rk* |, где *r* = *Ax*−*b*.
- 4. Написать функцию, получающую в качестве аргументов *n* × *m* матрицу *A* вещественных чисел, вектор *x* длины *m*, вектор *b* длины *n* и целые числа *n*, *m*, и возвращающую max*k*=1,...,*<sup>n</sup>* |*r<sup>k</sup>* |, где *r* = *Ax*−*b*.
- 5. Написать функцию, получающую в качестве аргументов *n* × *m* матрицу *A* вещественных чисел, *m* × *n* матрицу *B* вещественных чисел, и целые числа *n*, *m*, и возвращающую max*i*=1,...,*<sup>n</sup>* ∑ *n j*=1 |*ri j*|, где *R* = *AB*−*I*, *I* – единичная матрица.
- 6. Написать функцию, получающую в качестве аргументов *n* × *m* матрицу *A* вещественных чисел, *m* × *n* матрицу *B* вещественных чисел, и целые числа *n*, *m*, и возвращающую max*j*=1,...,*<sup>n</sup>* ∑ *n i*=1 |*ri j*|, где *R* = *AB*−*I*, *I* – единичная матрица.
- 7. Написать функцию, получающую в качестве аргументов *n* × *m* матрицу *A* вещественных чисел и целые числа *n*, *m*, и строящую на месте матрицы *A* матрицу *B* по формуле: *bi j* = *bi*−1, *<sup>j</sup>* + *ai*+1, *<sup>j</sup>* + *bi*, *<sup>j</sup>*−<sup>1</sup> + *ai*, *<sup>j</sup>*+<sup>1</sup> − 4*bi*, *<sup>j</sup>* , *i* = 2,...,*n* − 1, *j* = 2,...,*m* − 1. Функция возвращает абсолютное значение максимального по модулю элемента матрицы *B*.
- 8. Написать функцию, получающую в качестве аргументов *n* × *m* матрицу *A* вещественных чисел и целые числа *n*, *m*, и строящую на месте матрицы *A* матрицу *B* по формуле: *bi j* = *ai*−1, *<sup>j</sup>* + *bi*+1, *<sup>j</sup>* + *ai*, *<sup>j</sup>*−<sup>1</sup> + *bi*, *<sup>j</sup>*+<sup>1</sup> − 4*bi*, *<sup>j</sup>* , *i* = 2,...,*n* − 1, *j* = 2,...,*m* − 1. Функция возвращает абсолютное значение максимального по модулю элемента матрицы *B*.
- 9. Написать функцию, получающую в качестве аргументов *n* × *m* матрицу *A* вещественных чисел и целые числа *n*, *m*, и строящую на месте матрицы *A* матрицу *B* по формуле: *bi j* = *bi*−1, *<sup>j</sup>* + *ai*+1, *<sup>j</sup>* + *ai*, *<sup>j</sup>*−<sup>1</sup> + *bi*, *<sup>j</sup>*+<sup>1</sup> − 4*bi*, *<sup>j</sup>* , *i* = 2,...,*n* − 1, *j* = 2,...,*m* − 1. Функция возвращает абсолютное значение максимального по модулю элемента матрицы *B*.
- 10. Написать функцию, получающую в качестве аргументов *n* × *m* матрицу *A* вещественных чисел и целые числа *n*, *m*, и строящую на месте матрицы *A* матрицу *B* по формуле: *bi j* = *ai*−1, *<sup>j</sup>* + *bi*+1, *<sup>j</sup>* + *bi*, *<sup>j</sup>*−<sup>1</sup> + *ai*, *<sup>j</sup>*+<sup>1</sup> − 4*bi*, *<sup>j</sup>* , *i* = 2,...,*n* − 1, *j* = 2,...,*m* − 1. Функция возвращает абсолютное значение максимального по модулю элемента матрицы *B*.
- 11. Написать функцию, получающую в качестве аргументов *n* × *m* матрицу *A* вещественных чисел и целые числа *n*, *m*, и переставляющую строки и столбцы *A* так, чтобы на месте *a*<sup>11</sup> оказался элемент матрицы *A* с максимальным модулем. Функция возвращает абсолютное значение максимального по модулю элемента матрицы *A* (т.е. модуль *a*<sup>11</sup> ).